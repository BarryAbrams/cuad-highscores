{"version":3,"sources":["hn-react/src/utils/waitForHnData.js"],"names":["children","__awaiter","context","state","drupalPage","entities","DrupalPageContextProvider","hnContext","Children","only","props","childContextTypes","object","drupalContextProvider","createElement","componentWillUnmount","thisArg","_arguments","P","generator","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAIc,UAAgBA,QAAhB,EAAwB;AAQlC,WAAOC,UAAU,IAAV,EAAgB,KAAK,CAArB,EAAwB,KAAK,CAA7B,0CAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAPnCC,+BAOmC,GAPzB;AACdC,mCAAO;AACLC,4CAAY,IADP;AAELC,0CAAU;AAFL;AADO,yBAOyB;;AAAzCC,iDAAyC;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,kEACxB;AACb,2CAAO,EAAEC,WAAWL,OAAb,EAAP;AACD;AAHsC;AAAA;AAAA,yDAKjC;AACJ,2CAAO,gBAAMM,QAAN,CAAeC,IAAf,CAAoB,KAAKC,KAAL,CAAWV,QAA/B,CAAP;AACD;AAPsC;AAAA;AAAA;;AAUzCM,kDAA0BK,iBAA1B,GAA8C;AAC5CJ,uCAAW,oBAAUK;AADuB,yBAA9C;AAIMC,6CAdmC,GAevC,gBAAAC,aAAA,CAACR,yBAAD,EAA0B,IAA1B,EAA4BN,QAA5B,CAfuC;AAAA;AAAA,+BAkBnC,sCAAkBa,qBAAlB,EAAyC;AAC7CE,kDAAsB;AADuB,yBAAzC,CAlBmC;;AAAA;AAAA,yDAsBlCF,qBAtBkC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhC,EAAP;AAuBH,C;;AAnCD;;;;AACA;;;;AACA;;;;;;AAFA,IAAIZ,YAAa,aAAQ,UAAKA,SAAd,IAA4B,UAAUe,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;AACrF,WAAO,KAAKD,MAAMA,qBAAN,CAAL,EAAyB,UAAUE,OAAV,EAAmBC,MAAnB,EAA2B;AACvD,iBAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAE,gBAAI;AAAEC,qBAAKL,UAAUM,IAAV,CAAeF,KAAf,CAAL;AAA8B,aAApC,CAAqC,OAAOG,CAAP,EAAU;AAAEL,uBAAOK,CAAP;AAAY;AAAE;AAC3F,iBAASC,QAAT,CAAkBJ,KAAlB,EAAyB;AAAE,gBAAI;AAAEC,qBAAKL,UAAU,OAAV,EAAmBI,KAAnB,CAAL;AAAkC,aAAxC,CAAyC,OAAOG,CAAP,EAAU;AAAEL,uBAAOK,CAAP;AAAY;AAAE;AAC9F,iBAASF,IAAT,CAAcI,MAAd,EAAsB;AAAEA,mBAAOC,IAAP,GAAcT,QAAQQ,OAAOL,KAAf,CAAd,GAAsC,IAAIL,CAAJ,CAAM,UAAUE,OAAV,EAAmB;AAAEA,wBAAQQ,OAAOL,KAAf;AAAwB,aAAnD,EAAqDO,IAArD,CAA0DR,SAA1D,EAAqEK,QAArE,CAAtC;AAAuH;AAC/IH,aAAK,CAACL,YAAYA,UAAUY,KAAV,CAAgBf,OAAhB,EAAyBC,cAAc,EAAvC,CAAb,EAAyDQ,IAAzD,EAAL;AACH,KALM,CAAP;AAMH,CAPD","file":"waitForHnData.js","sourcesContent":["import React, { Component } from 'react';\nimport asyncBootstrapper from 'react-async-bootstrapper';\nimport PropTypes from 'prop-types';\n\nexport default async function(children) {\n  const context = {\n    state: {\n      drupalPage: null,\n      entities: [],\n    },\n  };\n\n  class DrupalPageContextProvider extends Component {\n    getChildContext() {\n      return { hnContext: context };\n    }\n\n    render() {\n      return React.Children.only(this.props.children);\n    }\n  }\n\n  DrupalPageContextProvider.childContextTypes = {\n    hnContext: PropTypes.object,\n  };\n\n  const drupalContextProvider = (\n    <DrupalPageContextProvider>{children}</DrupalPageContextProvider>\n  );\n\n  await asyncBootstrapper(drupalContextProvider, {\n    componentWillUnmount: true,\n  });\n\n  return drupalContextProvider;\n}\n"],"sourceRoot":"../../.."}